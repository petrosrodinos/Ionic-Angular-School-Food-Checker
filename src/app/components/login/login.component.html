<div class="auth-container">
  <ion-header [translucent]="true">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button
          color="primary"
          (click)="router.navigate(['/home'])"
          default-href="#"
        ></ion-back-button>
      </ion-buttons>
      <ion-title>Back</ion-title>
      <ion-progress-bar
        *ngIf="isloading"
        type="indeterminate"
      ></ion-progress-bar>
    </ion-toolbar>
  </ion-header>
  <ion-card>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <ion-card-header>
        <ion-card-title>Login</ion-card-title>
      </ion-card-header>
      <ion-list>
        <ion-item>
          <ion-input
            autocomplete="email"
            formControlName="email"
            type="email"
            placeholder="Email"
          ></ion-input>
          <ion-note
            *ngIf="
              loginForm.get('email').touched &&
              loginForm.get('email').hasError('required')
            "
            slot="error"
            >Invalid email</ion-note
          >

          <ion-button slot="end" fill="clear">
            <ion-icon
              name="mail-outline"
              color="primary"
              class="input-icon"
            ></ion-icon>
          </ion-button>
        </ion-item>

        <br />

        <ion-item>
          <ion-input
            name="password"
            formControlName="password"
            placeholder="Password"
            type="password"
          ></ion-input>
          <ion-note
            *ngIf="
              loginForm.get('password').touched &&
              loginForm.get('password').hasError('required') &&
              loginForm.get('password').hasError('minlength')
            "
            slot="error"
            >Invalid Password</ion-note
          >
          <ion-button slot="end" fill="clear">
            <ion-icon
              class="input-icon"
              name="lock-closed-outline"
              color="primary"
            ></ion-icon>
          </ion-button>
        </ion-item>
        <br />

        <ion-button
          [disabled]="isloading || !this.loginForm.valid"
          type="submit"
          (click)="onSubmit()"
          expand="block"
          >Login</ion-button
        >
      </ion-list>
    </form>
  </ion-card>
</div>
